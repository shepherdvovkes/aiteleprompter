# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –ø–æ–¥—Å—á–µ—Ç–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π P1 (VB Cable)

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫–∞–∑–∞–ª **2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è** –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑–∞–ª–∞ **"P1 (VB Cable): 2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π"** –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

### –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏:
1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Ä–µ—á–∏**: –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∞ **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é —Ä–µ—á—å –∫–∞–∫ –æ–¥–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ**, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–∏–∑–Ω–µ—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
2. **–ù–µ—Ç–æ—á–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç**: –°—á–µ—Ç—á–∏–∫ —Å—á–∏—Ç–∞–ª **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤**, –∞ –Ω–µ **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π**
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è**: –°–∏—Å—Ç–µ–º–∞ –Ω–µ —É–º–µ–ª–∞ —Ä–∞–∑–¥–µ–ª—è—Ç—å —Ç–µ–∫—Å—Ç –ø–æ –∑–Ω–∞–∫–∞–º –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∏ —Å–º—ã—Å–ª–æ–≤—ã–º –ø–∞—É–∑–∞–º

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–±–∏–µ–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
**–§–∞–π–ª**: `/workspace/js/speech-recognition-manager.js`

#### –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `splitIntoSentences(text)`:
```javascript
splitIntoSentences(text) {
    if (!text || !text.trim()) return [];
    
    // 1. –†–∞–∑–¥–µ–ª—è–µ–º –ø–æ –∑–Ω–∞–∫–∞–º –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è
    const sentences = text
        .split(/[.!?]+/)
        .map(s => s.trim())
        .filter(s => s.length > 0);
    
    // 2. –†–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ —Å–º—ã—Å–ª–æ–≤—ã–º –ø–∞—É–∑–∞–º –¥–ª—è –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
    if (sentences.length === 1 && text.length > 100) {
        const parts = text
            .split(/\s*(?:,\s*–∏\s*|,\s*–∞\s*|,\s*–Ω–æ\s*|,\s*–∏–ª–∏\s*|;\s*|\s+–∏\s+|\s+–∞\s+|\s+–Ω–æ\s+|\s+–∏–ª–∏\s+)\s*/)
            .map(s => s.trim())
            .filter(s => s.length > 10);
        
        if (parts.length > 1) {
            return parts;
        }
    }
    
    // 3. –†–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–ª–æ–≤ –¥–ª—è –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
    if (sentences.length === 1 && text.split(/\s+/).length > 20) {
        const words = text.split(/\s+/);
        const chunks = [];
        
        for (let i = 0; i < words.length; i += 15) {
            const chunk = words.slice(i, i + 15).join(' ');
            if (chunk.trim()) {
                chunks.push(chunk.trim());
            }
        }
        
        return chunks.length > 1 ? chunks : sentences;
    }
    
    return sentences.length > 0 ? sentences : [text.trim()];
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `finalizeSentence(sentence)`:
```javascript
finalizeSentence(sentence) {
    if (sentence === this.lastLoggedSentence) return;
    
    // –†–∞–∑–±–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
    const sentences = this.splitIntoSentences(sentence);
    
    for (const singleSentence of sentences) {
        const trimmedSentence = singleSentence.trim();
        if (trimmedSentence && trimmedSentence !== this.lastLoggedSentence) {
            this.lastLoggedSentence = trimmedSentence;
            this.onSentenceFinalized?.(trimmedSentence);
            console.log('Finalized sentence:', trimmedSentence);
        }
    }
}
```

### 2. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

#### –î–µ—Ç–µ–∫—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```javascript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
const sentences = this.partialSentence.split(/([.!?]+)/);
if (sentences.length > 2) {
    // –ï—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –∑–Ω–∞–∫–∞–º–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è
    for (let i = 0; i < sentences.length - 1; i += 2) {
        if (sentences[i].trim() && sentences[i + 1]) {
            const fullSentence = sentences[i] + sentences[i + 1];
            this.finalizeSentence(fullSentence.trim());
        }
    }
    
    // –û—Å—Ç–∞–≤—à–∏–π—Å—è —Ç–µ–∫—Å—Ç
    this.partialSentence = sentences[sentences.length - 1] || '';
}
```

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω–æ–≥–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞:
```javascript
if (this.partialSentence && this.partialSentence.length > 100) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ
    const potentialSentences = this.partialSentence.split(/([.!?]+)/);
    if (potentialSentences.length > 2) {
        // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
    }
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: `test-sentence-splitting.html`
- **URL**: `http://localhost:3000/test-sentence-splitting.html`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
  - –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –¢–µ—Å—Ç-–∫–µ–π—Å—ã:
1. **"–ö–∞–∫—É—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞? –ê –∫–∞–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?"**
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
   
2. **"–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –º–Ω–µ –æ –≤–∞—à–µ–º –æ–ø—ã—Ç–µ —Ä–∞–±–æ—Ç—ã —Å JavaScript –∏ –∫–∞–∫ –≤—ã –∏–∑—É—á–∞–ª–∏ —ç—Ç–æ—Ç —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–∞–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –¥–µ–ª–∞–ª–∏ –Ω–∞ –Ω–µ–º"**
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –†–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ —Å–æ—é–∑–∞–º "–∏"
   
3. **"–ö–∞–∫–æ–π —É –≤–∞—Å –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã? –°–∫–æ–ª—å–∫–æ –ª–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–µ—Ç–µ –∏ –≤ –∫–∞–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö —Ä–∞–±–æ—Ç–∞–ª–∏ —Ä–∞–Ω—å—à–µ"**
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç: "–ö–∞–∫—É—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ? –ê –∫–∞–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏?"
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: **"P1 (VB Cable): 1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π"** ‚ùå

### ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç: "–ö–∞–∫—É—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ? –ê –∫–∞–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏?"
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: **"P1 (VB Cable): 2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π"** ‚úÖ

## üîß –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**: `python3 -m http.server 3000`
2. **–û—Ç–∫—Ä–æ–π—Ç–µ**: `http://localhost:3000/main.html`
3. **–í–∫–ª—é—á–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω**
4. **–°–∫–∞–∂–∏—Ç–µ –¥–≤–∞ –≤–æ–ø—Ä–æ—Å–∞ –ø–æ–¥—Ä—è–¥**: –Ω–∞–ø—Ä–∏–º–µ—Ä, "–ö–∞–∫ –¥–µ–ª–∞? –ß—Ç–æ –¥–µ–ª–∞–µ—à—å?"
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—á–µ—Ç—á–∏–∫**: –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å "P1 (VB Cable): 2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π"

## üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ** –ø–æ –∑–Ω–∞–∫–∞–º –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è (., !, ?)
- ‚úÖ **–°–º—ã—Å–ª–æ–≤–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ** –ø–æ —Å–æ—é–∑–∞–º (–∏, –∞, –Ω–æ, –∏–ª–∏)
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ** –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –ø–æ —Å–ª–æ–≤–∞–º
- ‚úÖ **–¢–æ—á–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç** –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ª–æ–≥–∏–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤

**–û—à–∏–±–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.**